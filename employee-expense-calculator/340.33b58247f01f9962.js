"use strict";(self.webpackChunkEmployeeExpenseCalculator=self.webpackChunkEmployeeExpenseCalculator||[]).push([[340],{5340:(y,f,t)=>{t.r(f),t.d(f,{EmployeeComponent:()=>P});var e=t(5879),l=t(6814),D=t(95),d=t(4041),_=t(5455),g=t(2962),a=t(3229),n=t(6987),r=t(2840),m=t(2595),u=t(9035),z=t(6691),T=t(855);function O(s,E){if(1&s){const c=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td")(9,"a",6),e.NdJ("click",function(){const p=e.CHM(c).$implicit,h=e.oxw();return e.KtG(h.onEdit(p))}),e._UZ(10,"i",7),e.qZA(),e._UZ(11,"nz-divider",8),e.TgZ(12,"a",9),e.NdJ("nzOnConfirm",function(){const p=e.CHM(c).$implicit,h=e.oxw();return e.KtG(h.onDelete(p))}),e._UZ(13,"i",10),e.qZA()()()}if(2&s){const c=E.$implicit;e.oxw();const o=e.MAs(16);e.xp6(2),e.Oqu(c.name),e.xp6(2),e.Oqu(c.type),e.xp6(2),e.Oqu(e.gM2(7,5,c.allocation,"USD","symbol","1.0-0")),e.xp6(6),e.Q6J("nzDanger",!0)("nzIcon",o)}}function C(s,E){1&s&&e._UZ(0,"i",11)}const M=function(){return["./add"]};function v(s,E){1&s&&(e.TgZ(0,"a",12),e._UZ(1,"span",13),e._uU(2," Add"),e.qZA()),2&s&&e.Q6J("routerLink",e.DdM(1,M))}let P=(()=>{var s;class E{constructor(o,i){this.router=o,this.activatedRoute=i,this.service=(0,e.f3M)(_.G),this.msg=(0,e.f3M)(z.dD),this.employeeList=[]}ngOnInit(){this.getEmployeeList()}getEmployeeList(){this.service.read().subscribe(o=>this.employeeList=o)}onEdit(o){this.router.navigate(["./edit",o.id],{relativeTo:this.activatedRoute})}onDelete(o){this.service.delete(o.id).subscribe({next:i=>{i.isSuccess?(this.msg.success(i.msg),this.employeeList=this.employeeList.filter(p=>p.id!=o.id)):this.msg.warning(i.msg)},error:i=>{this.msg.error(i?.error?.message||"Something went wrong")}})}}return(s=E).\u0275fac=function(o){return new(o||s)(e.Y36(d.F0),e.Y36(d.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-employee"]],standalone:!0,features:[e.jDz],decls:19,vars:5,consts:[["nzTitle","Employee",3,"nzBordered","nzExtra"],[3,"nzData","nzPageSize"],["basicTable",""],[4,"ngFor","ngForOf"],["iconTpl",""],["extraTemplate",""],["nz-button","","nzSize","small","nzType","text",3,"click"],["nz-icon","","nzType","edit","nzTheme","fill",2,"color","#1890ff"],["nzType","vertical"],["nz-button","","nzSize","small","nzType","text","nz-popconfirm","","nzPopconfirmTitle","Are you sure?","nzOkText","Yes","nzCancelText","No",3,"nzDanger","nzIcon","nzOnConfirm"],["nz-icon","","nzType","delete","nzTheme","fill"],["nz-icon","","nzType","question-circle-o",2,"color","red"],[3,"routerLink"],["nz-icon","","nzType","plus","nzTheme","outline"]],template:function(o,i){if(1&o&&(e.TgZ(0,"nz-card",0)(1,"nz-table",1,2)(3,"thead")(4,"tr")(5,"th"),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Type"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Allocation"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Actions"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,O,14,10,"tr",3),e.qZA()()(),e.YNc(15,C,1,0,"ng-template",null,4,e.W1O),e.YNc(17,v,3,2,"ng-template",null,5,e.W1O)),2&o){const p=e.MAs(2),h=e.MAs(18);e.Q6J("nzBordered",!1)("nzExtra",h),e.xp6(1),e.Q6J("nzData",i.employeeList)("nzPageSize",5),e.xp6(13),e.Q6J("ngForOf",p.data)}},dependencies:[l.ez,l.sg,l.H9,D.UX,d.Bz,d.rH,g.vh,g.bd,a.HQ,a.N8,a.Uo,a._C,a.Om,a.p0,a.$Z,n.S,n.g,r.sL,r.ix,T.w,m.PV,m.Ls,u._p,u.JW]}),E})()},5455:(y,f,t)=>{t.d(f,{G:()=>d});var e=t(5879),l=t(2096),D=t(4800);let d=(()=>{var _;class g{constructor(){this.helper=(0,e.f3M)(D.W)}create(n){const r=this.helper.fetchFromLocalStorage("EmployeeDetails");return r.some(u=>u.name===n.name)?(0,l.of)({isSuccess:!1,msg:"Duplicate name"}):(r.push(n),localStorage.setItem("EmployeeDetails",JSON.stringify(r)),this.helper.handleDependency(n,1),(0,l.of)({isSuccess:!0,msg:"Created Successfully"}))}read(){return(0,l.of)(this.helper.fetchFromLocalStorage("EmployeeDetails"))}readDetailed(){const n=this.helper.fetchFromLocalStorage("EmployeeDetails");return(0,l.of)(n.map(r=>this.helper.transformChildren(r)))}readById(n){return(0,l.of)(this.helper.getEmployee(n))}update(n){this.helper.handleDependencyBeforeUpdate(n.id);let r=this.helper.fetchFromLocalStorage("EmployeeDetails");const m=r.findIndex(u=>u.id===n.id);return-1===m?(0,l.of)({isSuccess:!1,msg:"Employee not found"}):(r[m]=n,localStorage.setItem("EmployeeDetails",JSON.stringify(r)),this.helper.handleDependency(n,1),(0,l.of)({isSuccess:!0,msg:"Updated Successfully"}))}delete(n){const r=this.helper.fetchFromLocalStorage("EmployeeDetails").filter(m=>m.id!==n);return localStorage.setItem("EmployeeDetails",JSON.stringify(r)),this.helper.deleteDependencies(n),(0,l.of)({isSuccess:!0,msg:"Deleted Successfully"})}}return(_=g).\u0275fac=function(n){return new(n||_)},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),g})()}}]);