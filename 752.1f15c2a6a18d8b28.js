"use strict";(self.webpackChunkEmployeeExpenseCalculator=self.webpackChunkEmployeeExpenseCalculator||[]).push([[752],{4752:(vn,j,d)=>{d.r(j),d.d(j,{ExpenseCalculatorComponent:()=>fn});var e=d(5879),h=d(6814),M=d(95),fe=d(5455),L=d(2962),G=d(2840),k=d(2595),N=d(9388),_=d(3584);const ge=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_e=/([^\#-~ |!])/g;let me=(()=>{var i;class r{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(t,n,o,a){if(!n)return t;const c=new RegExp(n.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),o);return function ze(i){return i.replace(/&/g,"&amp;").replace(ge,r=>`&#${1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536};`).replace(_e,r=>`&#${r.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t.replace(c,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`)).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),a?`<span class="${a}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"nzHighlight",type:i,pure:!0}),r})(),ve=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez]}),r})();var D=d(331),O=d(8324),u=d(7582),z=d(8645),x=d(2438),f=d(9773),p=d(7754),q=d(5619);class y{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(r,s=null,t=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,r instanceof y)return r;this.service=t||null,this.origin=r,this.key=r.key,this.parentNode=s,this._title=r.title||"---",this._icon=r.icon||"",this._isLeaf=r.isLeaf||!1,this._children=[],this._isChecked=r.checked||!1,this._isSelectable=r.disabled||!1!==r.selectable,this._isDisabled=r.disabled||!1,this._isDisableCheckbox=r.disableCheckbox||!1,this._isExpanded=!r.isLeaf&&(r.expanded||!1),this._isHalfChecked=!1,this._isSelected=!r.disabled&&r.selected||!1,this._isLoading=!1,this.isMatched=!1,this.level=s?s.level+1:0,typeof r.children<"u"&&null!==r.children&&r.children.forEach(n=>{const o=this.treeService;o&&!o.isCheckStrictly&&r.checked&&!r.disabled&&!n.disabled&&!n.disableCheckbox&&(n.checked=r.checked),this._children.push(new y(n,this))})}get title(){return this._title}set title(r){this._title=r,this.update()}get icon(){return this._icon}set icon(r){this._icon=r,this.update()}get children(){return this._children}set children(r){this._children=r,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(r){this._isLeaf=r,this.update()}get isChecked(){return this._isChecked}set isChecked(r){this._isChecked=r,this.origin.checked=r,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(r){this._isHalfChecked=r,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(r){this._isSelectable=r,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(r){this._isDisabled=r,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(r){this._isDisableCheckbox=r,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(r){this._isExpanded=r,this.origin.expanded=r,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(r){this._isSelected=r,this.origin.selected=r,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(r){this._isLoading=r,this.update()}setSyncChecked(r=!1,s=!1){this.setChecked(r,s),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(r=!1,s=!1){this.origin.checked=r,this.isChecked=r,this.isHalfChecked=s}setExpanded(r){this._isExpanded=r,this.origin.expanded=r,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(r,s=-1){this.isLeaf||(r.forEach(t=>{const n=a=>{a.getChildren().forEach(c=>{c.level=c.getParentNode().level+1,c.origin.level=c.level,n(c)})};let o=t;o instanceof y?o.parentNode=this:o=new y(t,this),o.level=this.level+1,o.origin.level=o.level,n(o);try{-1===s?this.children.push(o):this.children.splice(s,0,o)}catch{}}),this.origin.children=this.getChildren().map(t=>t.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){const r=this.getParentNode();r&&(r.children=r.getChildren().filter(s=>s.key!==this.key),r.origin.children=r.origin.children.filter(s=>s.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(r){if(this.treeService)switch(r){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(s=>s.key))}this.update()}update(){this.component&&this.component.markForCheck()}}function H(i){const{isDisabled:r,isDisableCheckbox:s}=i;return!(!r&&!s)}function X(i,r){return r.length>0&&r.indexOf(i)>-1}function W(i=[],r=[]){const s=new Set(!0===r?[]:r),t=[];return function n(o,a=null){return o.map((c,l)=>{const g=function Ce(i,r){return`${i}-${r}`}(a?a.pos:"0",l),v=function Ne(i,r){return i??r}(c.key,g);c.isStart=[...a?a.isStart:[],0===l],c.isEnd=[...a?a.isEnd:[],l===o.length-1];const C={parent:a,pos:g,children:[],data:c,isStart:[...a?a.isStart:[],0===l],isEnd:[...a?a.isEnd:[],l===o.length-1]};return t.push(C),C.children=!0===r||s.has(v)||c.isExpanded?n(c.children||[],C):[],C})}(i),t}let I=(()=>{var i;class r{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new q.X([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(t){this.rootNodes=t,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(t,n=[]){this.flattenNodes$.next(W(t,n).map(o=>o.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(t){return t.every(n=>n instanceof y)}setSelectedNode(t){this.selectedNode=t}setNodeActive(t){!this.isMultiple&&t.isSelected&&(this.selectedNodeList.forEach(n=>{t.key!==n.key&&(n.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(t,this.isMultiple)}setSelectedNodeList(t,n=!1){const o=this.getIndexOfArray(this.selectedNodeList,t.key);n?t.isSelected&&-1===o&&this.selectedNodeList.push(t):t.isSelected&&-1===o&&(this.selectedNodeList=[t]),t.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(a=>a.key!==t.key))}setHalfCheckedNodeList(t){const n=this.getIndexOfArray(this.halfCheckedNodeList,t.key);t.isHalfChecked&&-1===n?this.halfCheckedNodeList.push(t):!t.isHalfChecked&&n>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(o=>t.key!==o.key))}setCheckedNodeList(t){const n=this.getIndexOfArray(this.checkedNodeList,t.key);t.isChecked&&-1===n?this.checkedNodeList.push(t):!t.isChecked&&n>-1&&(this.checkedNodeList=this.checkedNodeList.filter(o=>t.key!==o.key))}conductNodeState(t="check"){let n=[];switch(t){case"select":n=this.selectedNodeList;break;case"expand":n=this.expandedNodeList;break;case"match":n=this.matchedNodeList;break;case"check":n=this.checkedNodeList;const o=a=>{const c=a.getParentNode();return!!c&&(this.checkedNodeList.findIndex(l=>l.key===c.key)>-1||o(c))};this.isCheckStrictly||(n=this.checkedNodeList.filter(a=>!o(a)));break;case"halfCheck":this.isCheckStrictly||(n=this.halfCheckedNodeList)}return n}setExpandedNodeList(t){if(t.isLeaf)return;const n=this.getIndexOfArray(this.expandedNodeList,t.key);t.isExpanded&&-1===n?this.expandedNodeList.push(t):!t.isExpanded&&n>-1&&this.expandedNodeList.splice(n,1)}setMatchedNodeList(t){const n=this.getIndexOfArray(this.matchedNodeList,t.key);t.isMatched&&-1===n?this.matchedNodeList.push(t):!t.isMatched&&n>-1&&this.matchedNodeList.splice(n,1)}refreshCheckState(t=!1){t||this.checkedNodeList.forEach(n=>{this.conduct(n,t)})}conduct(t,n=!1){const o=t.isChecked;t&&!n&&(this.conductUp(t),this.conductDown(t,o))}conductUp(t){const n=t.getParentNode();n&&(H(n)||(n.children.every(o=>H(o)||!o.isHalfChecked&&o.isChecked)?(n.isChecked=!0,n.isHalfChecked=!1):n.children.some(o=>o.isHalfChecked||o.isChecked)?(n.isChecked=!1,n.isHalfChecked=!0):(n.isChecked=!1,n.isHalfChecked=!1)),this.setCheckedNodeList(n),this.setHalfCheckedNodeList(n),this.conductUp(n))}conductDown(t,n){H(t)||(t.isChecked=n,t.isHalfChecked=!1,this.setCheckedNodeList(t),this.setHalfCheckedNodeList(t),t.children.forEach(o=>{this.conductDown(o,n)}))}afterRemove(t){const n=o=>{this.selectedNodeList=this.selectedNodeList.filter(a=>a.key!==o.key),this.expandedNodeList=this.expandedNodeList.filter(a=>a.key!==o.key),this.checkedNodeList=this.checkedNodeList.filter(a=>a.key!==o.key),o.children&&o.children.forEach(a=>{n(a)})};t.forEach(o=>{n(o)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(t){0===t.children.length?this.conductUp(t):t.children.forEach(n=>{this.refreshDragNode(n)})}resetNodeLevel(t){const n=t.getParentNode();t.level=n?n.level+1:0;for(const o of t.children)this.resetNodeLevel(o)}calcDropPosition(t){const{clientY:n}=t,{top:o,bottom:a,height:c}=t.target.getBoundingClientRect(),l=Math.max(c*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return n<=o+l?-1:n>=a-l?1:0}dropAndApply(t,n=-1){if(!t||n>1)return;const o=t.treeService,a=t.getParentNode(),c=this.selectedNode.getParentNode();switch(c?c.children=c.children.filter(l=>l.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(l=>l.key!==this.selectedNode.key),n){case 0:t.addChildren([this.selectedNode]),this.resetNodeLevel(t);break;case-1:case 1:const l=1===n?1:0;if(a){a.addChildren([this.selectedNode],a.children.indexOf(t)+l);const g=this.selectedNode.getParentNode();g&&this.resetNodeLevel(g)}else{const g=this.rootNodes.indexOf(t)+l;this.rootNodes.splice(g,0,this.selectedNode),this.rootNodes[g].parentNode=null,this.resetNodeLevel(this.rootNodes[g])}}this.rootNodes.forEach(l=>{l.treeService||(l.service=o),this.refreshDragNode(l)})}formatEvent(t,n,o){const a={eventName:t,node:n,event:o};switch(t){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(a,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(a,{selectedKeys:this.selectedNodeList}),Object.assign(a,{nodes:this.selectedNodeList}),Object.assign(a,{keys:this.selectedNodeList.map(l=>l.key)});break;case"check":const c=this.getCheckedNodeList();Object.assign(a,{checkedKeys:c}),Object.assign(a,{nodes:c}),Object.assign(a,{keys:c.map(l=>l.key)});break;case"search":Object.assign(a,{matchedKeys:this.getMatchedNodeList()}),Object.assign(a,{nodes:this.getMatchedNodeList()}),Object.assign(a,{keys:this.getMatchedNodeList().map(l=>l.key)});break;case"expand":Object.assign(a,{nodes:this.expandedNodeList}),Object.assign(a,{keys:this.expandedNodeList.map(l=>l.key)})}return a}getIndexOfArray(t,n){return t.findIndex(o=>o.key===n)}conductCheck(t,n){this.checkedNodeList=[],this.halfCheckedNodeList=[];const o=a=>{a.forEach(c=>{null===t?c.isChecked=!!c.origin.checked:X(c.key,t||[])?(c.isChecked=!0,c.isHalfChecked=!1):(c.isChecked=!1,c.isHalfChecked=!1),c.children.length>0&&o(c.children)})};o(this.rootNodes),this.refreshCheckState(n)}conductExpandedKeys(t=[]){const n=new Set(!0===t?[]:t);this.expandedNodeList=[];const o=a=>{a.forEach(c=>{c.setExpanded(!0===t||n.has(c.key)||!0===c.isExpanded),c.isExpanded&&this.setExpandedNodeList(c),c.children.length>0&&o(c.children)})};o(this.rootNodes)}conductSelectedKeys(t,n){this.selectedNodeList.forEach(a=>a.isSelected=!1),this.selectedNodeList=[];const o=a=>a.every(c=>{if(X(c.key,t)){if(c.isSelected=!0,this.setSelectedNodeList(c),!n)return!1}else c.isSelected=!1;return!(c.children.length>0)||o(c.children)});o(this.rootNodes)}expandNodeAllParentBySearch(t){const n=o=>{if(o&&(o.canHide=!1,o.setExpanded(!0),this.setExpandedNodeList(o),o.getParentNode()))return n(o.getParentNode())};n(t.getParentNode())}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),r})();const xe=new e.OlP("NzTreeHigherOrder");class Te{constructor(r){this.nzTreeService=r}coerceTreeNodes(r){let s=[];return s=this.nzTreeService.isArrayOfNzTreeNode(r)?r.map(t=>(t.service=this.nzTreeService,t)):r.map(t=>new y(t,null,this.nzTreeService)),s}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(r){const s=[],t=n=>{s.push(n),n.getChildren().forEach(o=>{t(o)})};return this.getTreeNodes().forEach(n=>{t(n)}),s.find(n=>n.key===r)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}}var ee=d(4194),B=d(874);function ye(i,r){if(1&i&&e._UZ(0,"span"),2&i){const s=r.index,t=e.oxw();e.ekj("ant-tree-indent-unit",!t.nzSelectMode)("ant-select-tree-indent-unit",t.nzSelectMode)("ant-select-tree-indent-unit-start",t.nzSelectMode&&t.nzIsStart[s])("ant-tree-indent-unit-start",!t.nzSelectMode&&t.nzIsStart[s])("ant-select-tree-indent-unit-end",t.nzSelectMode&&t.nzIsEnd[s])("ant-tree-indent-unit-end",!t.nzSelectMode&&t.nzIsEnd[s])}}const te=["builtin",""];function Se(i,r){if(1&i&&(e.ynx(0),e._UZ(1,"span",4),e.BQk()),2&i){const s=e.oxw(3);e.xp6(1),e.ekj("ant-select-tree-switcher-icon",s.nzSelectMode)("ant-tree-switcher-icon",!s.nzSelectMode)}}const P=function(i,r){return{$implicit:i,origin:r}};function ke(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Se,2,4,"ng-container",3),e.BQk()),2&i){const s=e.oxw(2);e.xp6(1),e.Q6J("nzStringTemplateOutlet",s.nzExpandedIcon)("nzStringTemplateOutletContext",e.WLB(2,P,s.context,s.context.origin))}}function De(i,r){if(1&i&&(e.ynx(0),e.YNc(1,ke,2,5,"ng-container",2),e.BQk()),2&i){const s=e.oxw(),t=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!s.isLoading)("ngIfElse",t)}}function Me(i,r){if(1&i&&e._UZ(0,"span",7),2&i){const s=e.oxw(4);e.Q6J("nzType",s.isSwitcherOpen?"minus-square":"plus-square")}}function be(i,r){1&i&&e._UZ(0,"span",8)}function Ee(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Me,1,1,"span",5),e.YNc(2,be,1,0,"span",6),e.BQk()),2&i){const s=e.oxw(3);e.xp6(1),e.Q6J("ngIf",s.isShowLineIcon),e.xp6(1),e.Q6J("ngIf",!s.isShowLineIcon)}}function we(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Ee,3,2,"ng-container",3),e.BQk()),2&i){const s=e.oxw(2);e.xp6(1),e.Q6J("nzStringTemplateOutlet",s.nzExpandedIcon)("nzStringTemplateOutletContext",e.WLB(2,P,s.context,s.context.origin))}}function Le(i,r){if(1&i&&(e.ynx(0),e.YNc(1,we,2,5,"ng-container",2),e.BQk()),2&i){const s=e.oxw(),t=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!s.isLoading)("ngIfElse",t)}}function Oe(i,r){1&i&&e._UZ(0,"span",9),2&i&&e.Q6J("nzSpin",!0)}function Ie(i,r){}function Be(i,r){if(1&i&&e._UZ(0,"span",6),2&i){const s=e.oxw(3);e.Q6J("nzType",s.icon)}}function Ae(i,r){if(1&i&&(e.TgZ(0,"span")(1,"span"),e.YNc(2,Be,1,1,"span",5),e.qZA()()),2&i){const s=e.oxw(2);e.ekj("ant-tree-icon__open",s.isSwitcherOpen)("ant-tree-icon__close",s.isSwitcherClose)("ant-tree-icon_loading",s.isLoading)("ant-select-tree-iconEle",s.selectMode)("ant-tree-iconEle",!s.selectMode),e.xp6(1),e.ekj("ant-select-tree-iconEle",s.selectMode)("ant-select-tree-icon__customize",s.selectMode)("ant-tree-iconEle",!s.selectMode)("ant-tree-icon__customize",!s.selectMode),e.xp6(1),e.Q6J("ngIf",s.icon)}}function Ve(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Ae,3,19,"span",3),e._UZ(2,"span",4),e.ALo(3,"nzHighlight"),e.BQk()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.icon&&s.showIcon),e.xp6(1),e.Q6J("innerHTML",e.gM2(3,2,s.title,s.matchedValue,"i","font-highlight"),e.oJD)}}function Fe(i,r){if(1&i&&e._UZ(0,"nz-tree-drop-indicator",7),2&i){const s=e.oxw();e.Q6J("dropPosition",s.dragPosition)("level",s.context.level)}}function Re(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"nz-tree-node-switcher",4),e.NdJ("click",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.clickExpand(n))}),e.qZA()}if(2&i){const s=e.oxw();e.Q6J("nzShowExpand",s.nzShowExpand)("nzShowLine",s.nzShowLine)("nzExpandedIcon",s.nzExpandedIcon)("nzSelectMode",s.nzSelectMode)("context",s.nzTreeNode)("isLeaf",s.isLeaf)("isExpanded",s.isExpanded)("isLoading",s.isLoading)}}function He(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"nz-tree-node-checkbox",5),e.NdJ("click",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.clickCheckBox(n))}),e.qZA()}if(2&i){const s=e.oxw();e.Q6J("nzSelectMode",s.nzSelectMode)("isChecked",s.isChecked)("isHalfChecked",s.isHalfChecked)("isDisabled",s.isDisabled)("isDisableCheckbox",s.isDisableCheckbox)}}const Pe=["nzTreeTemplate"];function Ze(i,r){}const ne=function(i){return{$implicit:i}};function Ye(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Ze,0,0,"ng-template",10),e.BQk()),2&i){const s=r.$implicit;e.oxw(2);const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,ne,s))}}function Qe(i,r){if(1&i&&(e.TgZ(0,"cdk-virtual-scroll-viewport",8),e.YNc(1,Ye,2,4,"ng-container",9),e.qZA()),2&i){const s=e.oxw();e.Udp("height",s.nzVirtualHeight),e.ekj("ant-select-tree-list-holder-inner",s.nzSelectMode)("ant-tree-list-holder-inner",!s.nzSelectMode),e.Q6J("itemSize",s.nzVirtualItemSize)("minBufferPx",s.nzVirtualMinBufferPx)("maxBufferPx",s.nzVirtualMaxBufferPx),e.xp6(1),e.Q6J("cdkVirtualForOf",s.nzFlattenNodes)("cdkVirtualForTrackBy",s.trackByFlattenNode)}}function Je(i,r){}function Ue(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Je,0,0,"ng-template",10),e.BQk()),2&i){const s=r.$implicit;e.oxw(2);const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,ne,s))}}function $e(i,r){if(1&i&&(e.TgZ(0,"div",11),e.YNc(1,Ue,2,4,"ng-container",12),e.qZA()),2&i){const s=e.oxw();e.ekj("ant-select-tree-list-holder-inner",s.nzSelectMode)("ant-tree-list-holder-inner",!s.nzSelectMode),e.Q6J("@.disabled",s.beforeInit||!(null==s.noAnimation||!s.noAnimation.nzNoAnimation))("nzNoAnimation",null==s.noAnimation?null:s.noAnimation.nzNoAnimation)("@treeCollapseMotion",s.nzFlattenNodes.length),e.xp6(1),e.Q6J("ngForOf",s.nzFlattenNodes)("ngForTrackBy",s.trackByFlattenNode)}}function Ke(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"nz-tree-node",13),e.NdJ("nzExpandChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzClick",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzDblClick",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzContextMenu",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzCheckBoxChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzOnDragStart",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzOnDragEnter",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzOnDragOver",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzOnDragLeave",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzOnDragEnd",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))})("nzOnDrop",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.eventTriggerChanged(n))}),e.qZA()}if(2&i){const s=r.$implicit,t=e.oxw();e.Q6J("icon",s.icon)("title",s.title)("isLoading",s.isLoading)("isSelected",s.isSelected)("isDisabled",s.isDisabled)("isMatched",s.isMatched)("isExpanded",s.isExpanded)("isLeaf",s.isLeaf)("isStart",s.isStart)("isEnd",s.isEnd)("isChecked",s.isChecked)("isHalfChecked",s.isHalfChecked)("isDisableCheckbox",s.isDisableCheckbox)("isSelectable",s.isSelectable)("canHide",s.canHide)("nzTreeNode",s)("nzSelectMode",t.nzSelectMode)("nzShowLine",t.nzShowLine)("nzExpandedIcon",t.nzExpandedIcon)("nzDraggable",t.nzDraggable)("nzCheckable",t.nzCheckable)("nzShowExpand",t.nzShowExpand)("nzAsyncData",t.nzAsyncData)("nzSearchValue",t.nzSearchValue)("nzHideUnMatched",t.nzHideUnMatched)("nzBeforeDrop",t.nzBeforeDrop)("nzShowIcon",t.nzShowIcon)("nzTreeTemplate",t.nzTreeTemplate||t.nzTreeTemplateChild)}}let je=(()=>{var i;class r{constructor(t){this.cdr=t,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(t){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(t,n="ltr"){const a="ltr"===n?"left":"right",l={[a]:"4px",["ltr"===n?"right":"left"]:"0px"};switch(t){case-1:l.top="-3px";break;case 1:l.bottom="-3px";break;case 0:l.bottom="-3px",l[a]="28px";break;default:l.display="none"}this.style=l,this.cdr.markForCheck()}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(t,n){2&t&&(e.Akn(n.style),e.ekj("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:"level",direction:"direction"},exportAs:["NzTreeDropIndicator"],features:[e.TTD],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),r})(),Ge=(()=>{var i;class r{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(t){const{nzTreeLevel:n}=t;n&&(this.listOfUnit=[...new Array(n.currentValue||0)])}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(t,n){2&t&&(e.uIk("aria-hidden",!0),e.ekj("ant-tree-indent",!n.nzSelectMode)("ant-select-tree-indent",n.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],features:[e.TTD],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(t,n){1&t&&e.YNc(0,ye,1,12,"span",0),2&t&&e.Q6J("ngForOf",n.listOfUnit)},dependencies:[h.sg],encapsulation:2,changeDetection:0}),r})(),qe=(()=>{var i;class r{constructor(){this.nzSelectMode=!1}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(t,n){2&t&&e.ekj("ant-select-tree-checkbox",n.nzSelectMode)("ant-select-tree-checkbox-checked",n.nzSelectMode&&n.isChecked)("ant-select-tree-checkbox-indeterminate",n.nzSelectMode&&n.isHalfChecked)("ant-select-tree-checkbox-disabled",n.nzSelectMode&&(n.isDisabled||n.isDisableCheckbox))("ant-tree-checkbox",!n.nzSelectMode)("ant-tree-checkbox-checked",!n.nzSelectMode&&n.isChecked)("ant-tree-checkbox-indeterminate",!n.nzSelectMode&&n.isHalfChecked)("ant-tree-checkbox-disabled",!n.nzSelectMode&&(n.isDisabled||n.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},attrs:te,decls:1,vars:4,template:function(t,n){1&t&&e._UZ(0,"span"),2&t&&e.ekj("ant-tree-checkbox-inner",!n.nzSelectMode)("ant-select-tree-checkbox-inner",n.nzSelectMode)},encapsulation:2,changeDetection:0}),r})(),Xe=(()=>{var i;class r{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(t,n){2&t&&e.ekj("ant-select-tree-switcher",n.nzSelectMode)("ant-select-tree-switcher-noop",n.nzSelectMode&&n.isLeaf)("ant-select-tree-switcher_open",n.nzSelectMode&&n.isSwitcherOpen)("ant-select-tree-switcher_close",n.nzSelectMode&&n.isSwitcherClose)("ant-tree-switcher",!n.nzSelectMode)("ant-tree-switcher-noop",!n.nzSelectMode&&n.isLeaf)("ant-tree-switcher_open",!n.nzSelectMode&&n.isSwitcherOpen)("ant-tree-switcher_close",!n.nzSelectMode&&n.isSwitcherClose)},inputs:{nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},decls:4,vars:2,consts:[[4,"ngIf"],["loadingTemplate",""],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(t,n){1&t&&(e.YNc(0,De,2,2,"ng-container",0),e.YNc(1,Le,2,2,"ng-container",0),e.YNc(2,Oe,1,1,"ng-template",null,1,e.W1O)),2&t&&(e.Q6J("ngIf",n.isShowSwitchIcon),e.xp6(1),e.Q6J("ngIf",n.nzShowLine))},dependencies:[h.O5,O.f,k.Ls],encapsulation:2,changeDetection:0}),r})(),We=(()=>{var i;class r{get canDraggable(){return!(!this.draggable||this.isDisabled)||null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(t){this.cdr=t,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(t){const{showIndicator:n,dragPosition:o}=t;(n||o)&&this.cdr.markForCheck()}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(t,n){2&t&&(e.uIk("title",n.title)("draggable",n.canDraggable)("aria-grabbed",n.canDraggable),e.ekj("draggable",n.canDraggable)("ant-select-tree-node-content-wrapper",n.selectMode)("ant-select-tree-node-content-wrapper-open",n.selectMode&&n.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",n.selectMode&&n.isSwitcherClose)("ant-select-tree-node-selected",n.selectMode&&n.isSelected)("ant-tree-node-content-wrapper",!n.selectMode)("ant-tree-node-content-wrapper-open",!n.selectMode&&n.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!n.selectMode&&n.isSwitcherClose)("ant-tree-node-selected",!n.selectMode&&n.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:"draggable",showIcon:"showIcon",selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",showIndicator:"showIndicator",dragPosition:"dragPosition"},features:[e.TTD],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"dropPosition","level",4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(t,n){1&t&&(e.YNc(0,Ie,0,0,"ng-template",0),e.YNc(1,Ve,4,7,"ng-container",1),e.YNc(2,Fe,1,2,"nz-tree-drop-indicator",2)),2&t&&(e.Q6J("ngTemplateOutlet",n.treeTemplate)("ngTemplateOutletContext",e.WLB(4,P,n.context,n.context.origin)),e.xp6(1),e.Q6J("ngIf",!n.treeTemplate),e.xp6(1),e.Q6J("ngIf",n.showIndicator))},dependencies:[h.O5,h.tP,k.Ls,je,me],encapsulation:2,changeDetection:0}),r})(),et=(()=>{var i;class r{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(t){t.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);const n=this.nzTreeService.formatEvent("expand",this.nzTreeNode,t);this.nzExpandChange.emit(n)}clickSelect(t){t.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);const n=this.nzTreeService.formatEvent("click",this.nzTreeNode,t);this.nzClick.emit(n)}dblClick(t){t.preventDefault();const n=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,t);this.nzDblClick.emit(n)}contextMenu(t){t.preventDefault();const n=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,t);this.nzContextMenu.emit(n)}clickCheckBox(t){if(t.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);const n=this.nzTreeService.formatEvent("check",this.nzTreeNode,t);this.nzCheckBoxChange.emit(n)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(n=>{this.renderer.removeClass(this.elementRef.nativeElement,n)})}handleDragStart(t){try{t.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;const n=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,t);this.nzOnDragStart.emit(n)}handleDragEnter(t){t.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{const n=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,t);this.nzOnDragEnter.emit(n)})}handleDragOver(t){t.preventDefault();const n=this.nzTreeService.calcDropPosition(t);this.dragPos!==n&&(this.clearDragClass(),this.renderIndicator(n),0===this.dragPos&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));const o=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,t);this.nzOnDragOver.emit(o)}handleDragLeave(t){t.preventDefault(),this.renderIndicator(2),this.clearDragClass();const n=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,t);this.nzOnDragLeave.emit(n)}handleDragDrop(t){t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();const n=this.nzTreeService.getSelectedNode();if(!n||n&&n.key===this.nzTreeNode.key||0===this.dragPos&&this.isLeaf)return;const o=this.nzTreeService.formatEvent("drop",this.nzTreeNode,t),a=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,t);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(c=>{c&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(o),this.nzOnDragEnd.emit(a)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(o))})}handleDragEnd(t){t.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck(),console.log("end");else{this.draggingKey=null;const n=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,t);this.nzOnDragEnd.emit(n)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){const t=this.elementRef.nativeElement;this.destroy$=new z.x,(0,x.R)(t,"dragstart").pipe((0,f.R)(this.destroy$)).subscribe(n=>this.handleDragStart(n)),(0,x.R)(t,"dragenter").pipe((0,f.R)(this.destroy$)).subscribe(n=>this.handleDragEnter(n)),(0,x.R)(t,"dragover").pipe((0,f.R)(this.destroy$)).subscribe(n=>this.handleDragOver(n)),(0,x.R)(t,"dragleave").pipe((0,f.R)(this.destroy$)).subscribe(n=>this.handleDragLeave(n)),(0,x.R)(t,"drop").pipe((0,f.R)(this.destroy$)).subscribe(n=>this.handleDragDrop(n)),(0,x.R)(t,"dragend").pipe((0,f.R)(this.destroy$)).subscribe(n=>this.handleDragEnd(n))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(t,n,o,a,c,l){this.nzTreeService=t,this.ngZone=n,this.renderer=o,this.elementRef=a,this.cdr=c,this.noAnimation=l,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new e.vpe,this.nzDblClick=new e.vpe,this.nzContextMenu=new e.vpe,this.nzCheckBoxChange=new e.vpe,this.nzExpandChange=new e.vpe,this.nzOnDragStart=new e.vpe,this.nzOnDragEnter=new e.vpe,this.nzOnDragOver=new e.vpe,this.nzOnDragLeave=new e.vpe,this.nzOnDrop=new e.vpe,this.nzOnDragEnd=new e.vpe,this.destroy$=new z.x,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{(0,x.R)(this.elementRef.nativeElement,"mousedown").pipe((0,f.R)(this.destroy$)).subscribe(t=>{this.nzSelectMode&&t.preventDefault()})})}ngOnChanges(t){const{nzDraggable:n}=t;n&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(t){this.ngZone.run(()=>{this.showIndicator=2!==t,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||0===t&&this.isLeaf)&&(this.dragPos=t,this.cdr.markForCheck())})}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(I),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(D.P,9))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(t,n){2&t&&(e.Udp("display",n.displayStyle),e.ekj("ant-select-tree-treenode",n.nzSelectMode)("ant-select-tree-treenode-disabled",n.nzSelectMode&&n.isDisabled)("ant-select-tree-treenode-switcher-open",n.nzSelectMode&&n.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",n.nzSelectMode&&n.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",n.nzSelectMode&&n.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",n.nzSelectMode&&n.isHalfChecked)("ant-select-tree-treenode-selected",n.nzSelectMode&&n.isSelected)("ant-select-tree-treenode-loading",n.nzSelectMode&&n.isLoading)("ant-tree-treenode",!n.nzSelectMode)("ant-tree-treenode-disabled",!n.nzSelectMode&&n.isDisabled)("ant-tree-treenode-switcher-open",!n.nzSelectMode&&n.isSwitcherOpen)("ant-tree-treenode-switcher-close",!n.nzSelectMode&&n.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!n.nzSelectMode&&n.isChecked)("ant-tree-treenode-checkbox-indeterminate",!n.nzSelectMode&&n.isHalfChecked)("ant-tree-treenode-selected",!n.nzSelectMode&&n.isSelected)("ant-tree-treenode-loading",!n.nzSelectMode&&n.isLoading)("dragging",n.draggingKey===n.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],features:[e.TTD],attrs:te,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition","dblclick","click","contextmenu"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click"]],template:function(t,n){1&t&&(e._UZ(0,"nz-tree-indent",0),e.YNc(1,Re,1,8,"nz-tree-node-switcher",1),e.YNc(2,He,1,5,"nz-tree-node-checkbox",2),e.TgZ(3,"nz-tree-node-title",3),e.NdJ("dblclick",function(a){return n.dblClick(a)})("click",function(a){return n.clickSelect(a)})("contextmenu",function(a){return n.contextMenu(a)}),e.qZA()),2&t&&(e.Q6J("nzTreeLevel",n.nzTreeNode.level)("nzSelectMode",n.nzSelectMode)("nzIsStart",n.isStart)("nzIsEnd",n.isEnd),e.xp6(1),e.Q6J("ngIf",n.nzShowExpand),e.xp6(1),e.Q6J("ngIf",n.nzCheckable),e.xp6(1),e.Q6J("icon",n.icon)("title",n.title)("isLoading",n.isLoading)("isSelected",n.isSelected)("isDisabled",n.isDisabled)("isMatched",n.isMatched)("isExpanded",n.isExpanded)("isLeaf",n.isLeaf)("searchValue",n.nzSearchValue)("treeTemplate",n.nzTreeTemplate)("draggable",n.nzDraggable)("showIcon",n.nzShowIcon)("selectMode",n.nzSelectMode)("context",n.nzTreeNode)("showIndicator",n.showIndicator)("dragPosition",n.dragPos))},dependencies:[h.O5,Ge,Xe,qe,We],encapsulation:2,changeDetection:0}),(0,u.gn)([(0,p.yF)()],r.prototype,"nzShowLine",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzShowExpand",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzCheckable",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzAsyncData",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzHideUnMatched",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzNoAnimation",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzSelectMode",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzShowIcon",void 0),r})(),ie=(()=>{var i;class r extends I{constructor(){super()}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),r})();function tt(i,r){return i||r}let it=(()=>{var i;class r extends Te{writeValue(t){this.handleNzData(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}renderTreeProperties(t){let n=!1,o=!1;const{nzData:a,nzExpandedKeys:c,nzSelectedKeys:l,nzCheckedKeys:g,nzCheckStrictly:v,nzExpandAll:C,nzMultiple:gn,nzSearchValue:K}=t;C&&(n=!0,o=this.nzExpandAll),gn&&(this.nzTreeService.isMultiple=this.nzMultiple),v&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),a&&this.handleNzData(this.nzData),g&&this.handleCheckedKeys(this.nzCheckedKeys),v&&this.handleCheckedKeys(null),(c||C)&&(n=!0,this.handleExpandedKeys(o||this.nzExpandedKeys)),l&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),K&&(K.firstChange&&!this.nzSearchValue||(n=!1,this.handleSearchValue(K.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));const _n=this.getExpandedNodeList().map(mn=>mn.key);this.handleFlattenNodes(this.nzTreeService.rootNodes,n?o||this.nzExpandedKeys:_n)}trackByFlattenNode(t,n){return n.key}handleNzData(t){if(Array.isArray(t)){const n=this.coerceTreeNodes(t);this.nzTreeService.initTree(n)}}handleFlattenNodes(t,n=[]){this.nzTreeService.flattenTreeData(t,n)}handleCheckedKeys(t){this.nzTreeService.conductCheck(t,this.nzCheckStrictly)}handleExpandedKeys(t=[]){this.nzTreeService.conductExpandedKeys(t)}handleSelectedKeys(t,n){this.nzTreeService.conductSelectedKeys(t,n)}handleSearchValue(t,n){W(this.nzTreeService.rootNodes,!0).map(c=>c.data).forEach(c=>{c.isMatched=(c=>n?n(c.origin):!(!t||!c.title.toLowerCase().includes(t.toLowerCase())))(c),c.canHide=!c.isMatched,c.isMatched?this.nzTreeService.expandNodeAllParentBySearch(c):(c.setExpanded(!1),this.nzTreeService.setExpandedNodeList(c)),this.nzTreeService.setMatchedNodeList(c)})}eventTriggerChanged(t){const n=t.node;switch(t.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(t);break;case"click":this.nzClick.emit(t);break;case"dblclick":this.nzDblClick.emit(t);break;case"contextmenu":this.nzContextMenu.emit(t);break;case"check":this.nzTreeService.setCheckedNodeList(n),this.nzCheckStrictly||this.nzTreeService.conduct(n);const o=this.nzTreeService.formatEvent("check",n,t.event);this.nzCheckBoxChange.emit(o);break;case"dragstart":n.isExpanded&&(n.setExpanded(!n.isExpanded),this.renderTree()),this.nzOnDragStart.emit(t);break;case"dragenter":const a=this.nzTreeService.getSelectedNode();a&&a.key!==n.key&&!n.isExpanded&&!n.isLeaf&&(n.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(t);break;case"dragover":this.nzOnDragOver.emit(t);break;case"dragleave":this.nzOnDragLeave.emit(t);break;case"dragend":this.nzOnDragEnd.emit(t);break;case"drop":this.renderTree(),this.nzOnDrop.emit(t)}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(t=>t.key)),this.cdr.markForCheck()}constructor(t,n,o,a,c){super(t),this.nzConfigService=n,this.cdr=o,this.directionality=a,this.noAnimation=c,this._nzModuleName="tree",this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new e.vpe,this.nzSelectedKeysChange=new e.vpe,this.nzCheckedKeysChange=new e.vpe,this.nzSearchValueChange=new e.vpe,this.nzClick=new e.vpe,this.nzDblClick=new e.vpe,this.nzContextMenu=new e.vpe,this.nzCheckBoxChange=new e.vpe,this.nzExpandChange=new e.vpe,this.nzOnDragStart=new e.vpe,this.nzOnDragEnter=new e.vpe,this.nzOnDragOver=new e.vpe,this.nzOnDragLeave=new e.vpe,this.nzOnDrop=new e.vpe,this.nzOnDragEnd=new e.vpe,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new z.x,this.onChange=()=>null,this.onTouched=()=>null}ngOnInit(){this.nzTreeService.flattenNodes$.pipe((0,f.R)(this.destroy$)).subscribe(t=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?t.filter(n=>!n.canHide):t,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,f.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnChanges(t){this.renderTreeProperties(t)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(I),e.Y36(B.jY),e.Y36(e.sBO),e.Y36(N.Is,8),e.Y36(D.P,9))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-tree"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,Pe,7),2&t){let a;e.iGM(a=e.CRH())&&(n.nzTreeTemplateChild=a.first)}},viewQuery:function(t,n){if(1&t&&e.Gf(_.N7,5,_.N7),2&t){let o;e.iGM(o=e.CRH())&&(n.cdkVirtualScrollViewport=o.first)}},hostVars:20,hostBindings:function(t,n){2&t&&e.ekj("ant-select-tree",n.nzSelectMode)("ant-select-tree-show-line",n.nzSelectMode&&n.nzShowLine)("ant-select-tree-icon-hide",n.nzSelectMode&&!n.nzShowIcon)("ant-select-tree-block-node",n.nzSelectMode&&n.nzBlockNode)("ant-tree",!n.nzSelectMode)("ant-tree-rtl","rtl"===n.dir)("ant-tree-show-line",!n.nzSelectMode&&n.nzShowLine)("ant-tree-icon-hide",!n.nzSelectMode&&!n.nzShowIcon)("ant-tree-block-node",!n.nzSelectMode&&n.nzBlockNode)("draggable-tree",n.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],features:[e._Bn([ie,{provide:I,useFactory:tt,deps:[[new e.tp0,new e.FiY,xe],ie]},{provide:M.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}]),e.qOj,e.TTD],decls:10,vars:6,consts:[[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],["nodeTemplate",""],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate","nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e._UZ(1,"input",0),e.qZA(),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"div",3),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,Qe,2,11,"cdk-virtual-scroll-viewport",5),e.YNc(7,$e,2,9,"div",6),e.qZA(),e.YNc(8,Ke,1,28,"ng-template",null,7,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngStyle",n.HIDDEN_STYLE),e.xp6(1),e.Q6J("ngStyle",n.HIDDEN_NODE_STYLE),e.xp6(3),e.ekj("ant-select-tree-list",n.nzSelectMode),e.xp6(1),e.Q6J("ngIf",n.nzVirtualHeight),e.xp6(1),e.Q6J("ngIf",!n.nzVirtualHeight))},dependencies:[h.sg,h.O5,h.tP,h.PC,D.P,_.xd,_.x0,_.N7,et],encapsulation:2,data:{animation:[ee.lx]},changeDetection:0}),(0,u.gn)([(0,p.yF)(),(0,B.oS)()],r.prototype,"nzShowIcon",void 0),(0,u.gn)([(0,p.yF)(),(0,B.oS)()],r.prototype,"nzHideUnMatched",void 0),(0,u.gn)([(0,p.yF)(),(0,B.oS)()],r.prototype,"nzBlockNode",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzExpandAll",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzSelectMode",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzCheckStrictly",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzShowExpand",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzShowLine",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzCheckable",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzAsyncData",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzDraggable",void 0),(0,u.gn)([(0,p.yF)()],r.prototype,"nzMultiple",void 0),r})(),st=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.vT,h.ez,O.T,k.PV,D.g,ve,_.Cl]}),r})();var A=d(3324);function rt(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"span",1),e.NdJ("click",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.closeTag(n))}),e.qZA()}}const ot=["*"];let at=(()=>{var i;class r{constructor(t,n,o,a){this.cdr=t,this.renderer=n,this.elementRef=o,this.directionality=a,this.isPresetColor=!1,this.nzMode="default",this.nzChecked=!1,this.nzOnClose=new e.vpe,this.nzCheckedChange=new e.vpe,this.dir="ltr",this.destroy$=new z.x}updateCheckedStatus(){"checkable"===this.nzMode&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(t){this.nzOnClose.emit(t),t.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}clearPresetColor(){const t=this.elementRef.nativeElement,n=new RegExp(`(ant-tag-(?:${[...A.uf,...A.Bh].join("|")}))`,"g"),o=t.classList.toString(),a=[];let c=n.exec(o);for(;null!==c;)a.push(c[1]),c=n.exec(o);t.classList.remove(...a)}setPresetColor(){const t=this.elementRef.nativeElement;this.clearPresetColor(),this.isPresetColor=!!this.nzColor&&((0,A.o2)(this.nzColor)||(0,A.M8)(this.nzColor)),this.isPresetColor&&t.classList.add(`ant-tag-${this.nzColor}`)}ngOnInit(){this.directionality.change?.pipe((0,f.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzColor:n}=t;n&&this.setPresetColor()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(N.Is,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-tag"]],hostAttrs:[1,"ant-tag"],hostVars:10,hostBindings:function(t,n){1&t&&e.NdJ("click",function(){return n.updateCheckedStatus()}),2&t&&(e.Udp("background-color",n.isPresetColor?"":n.nzColor),e.ekj("ant-tag-has-color",n.nzColor&&!n.isPresetColor)("ant-tag-checkable","checkable"===n.nzMode)("ant-tag-checkable-checked",n.nzChecked)("ant-tag-rtl","rtl"===n.dir))},inputs:{nzMode:"nzMode",nzColor:"nzColor",nzChecked:"nzChecked"},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],features:[e.TTD],ngContentSelectors:ot,decls:2,vars:1,consts:[["nz-icon","","nzType","close","class","ant-tag-close-icon","tabindex","-1",3,"click",4,"ngIf"],["nz-icon","","nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(t,n){1&t&&(e.F$t(),e.Hsn(0),e.YNc(1,rt,1,0,"span",0)),2&t&&(e.xp6(1),e.Q6J("ngIf","closeable"===n.nzMode))},dependencies:[h.O5,k.Ls],encapsulation:2,changeDetection:0}),(0,u.gn)([(0,p.yF)()],r.prototype,"nzChecked",void 0),r})(),ct=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.vT,h.ez,M.u5,k.PV]}),r})();function lt(i,r){if(1&i&&(e.TgZ(0,"span",6)(1,"nz-tag",7),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&i){const s=e.oxw(2).origin;e.xp6(2),e.Oqu(e.gM2(3,1,s.expense,"USD","symbol","1.0-0"))}}function dt(i,r){if(1&i&&(e.TgZ(0,"span")(1,"span",4),e._uU(2),e.qZA(),e.YNc(3,lt,4,6,"span",5),e.qZA()),2&i){const s=e.oxw(),t=s.$implicit,n=s.origin;e.xp6(2),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",n.expense)}}function ht(i,r){if(1&i&&(e.TgZ(0,"span",10)(1,"nz-tag",7),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&i){const s=e.oxw(2).origin;e.xp6(2),e.Oqu(e.gM2(3,1,s.expense,"USD","symbol","1.0-0"))}}function ut(i,r){if(1&i&&(e.TgZ(0,"span")(1,"span",8),e._uU(2),e.qZA(),e.YNc(3,ht,4,6,"span",9),e.qZA()),2&i){const s=e.oxw(),t=s.$implicit,n=s.origin;e.xp6(2),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",n.expense)}}function pt(i,r){if(1&i&&(e.TgZ(0,"span",2),e.YNc(1,dt,4,2,"span",3),e.YNc(2,ut,4,2,"span",3),e.qZA()),2&i){const s=r.$implicit;e.xp6(1),e.Q6J("ngIf",!s.isLeaf),e.xp6(1),e.Q6J("ngIf",s.isLeaf)}}let ft=(()=>{var i;class r{constructor(){this.nodes=[]}ngOnChanges(){this.nodes=[this.createNodes(this.data)]}createNodes(t){const n={title:t.name,key:t.id,expanded:!0,expense:t.allocation??0,children:[]};return t.children.length>0?n.children=t.children.map(o=>this.createNodes(o)):n.isLeaf=!0,n}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-hierarchy"]],inputs:{data:"data"},standalone:!0,features:[e.TTD,e.jDz],decls:4,vars:2,consts:[[3,"nzData","nzTreeTemplate"],["nzTreeTemplate",""],[1,"custom-node"],[4,"ngIf"],[1,"folder-name"],["class","folder-desc",4,"ngIf"],[1,"folder-desc"],[1,"tag"],[1,"file-name"],["class","file-desc",4,"ngIf"],[1,"file-desc"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-card"),e._UZ(1,"nz-tree",0),e.qZA(),e.YNc(2,pt,3,2,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("nzData",n.nodes)("nzTreeTemplate",o)}},dependencies:[h.ez,h.O5,h.H9,L.vh,L.bd,G.sL,k.PV,st,it,ct,at],styles:[".tag[_ngcontent-%COMP%]{margin-left:5px;font-size:10px;padding:0 3px}"]}),r})();var gt=d(9845),Z=d(5094),V=d(3599),_t=d(2831);let zt=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez]}),r})();const mt=function(i){return{$implicit:i}};function vt(i,r){if(1&i&&e.GkF(0,3),2&i){const s=e.oxw();e.Q6J("ngTemplateOutlet",s.nzValueTemplate)("ngTemplateOutletContext",e.VKq(2,mt,s.nzValue))}}function Ct(i,r){if(1&i&&(e.TgZ(0,"span",6),e._uU(1),e.qZA()),2&i){const s=e.oxw(2);e.xp6(1),e.Oqu(s.displayInt)}}function Nt(i,r){if(1&i&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&i){const s=e.oxw(2);e.xp6(1),e.Oqu(s.displayDecimal)}}function xt(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Ct,2,1,"span",4),e.YNc(2,Nt,2,1,"span",5),e.BQk()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.displayInt),e.xp6(1),e.Q6J("ngIf",s.displayDecimal)}}function Tt(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const s=e.oxw();e.xp6(1),e.Oqu(s.nzTitle)}}function yt(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const s=e.oxw(2);e.xp6(1),e.Oqu(s.nzPrefix)}}function St(i,r){if(1&i&&(e.TgZ(0,"span",6),e.YNc(1,yt,2,1,"ng-container",1),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("nzStringTemplateOutlet",s.nzPrefix)}}function kt(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const s=e.oxw(2);e.xp6(1),e.Oqu(s.nzSuffix)}}function Dt(i,r){if(1&i&&(e.TgZ(0,"span",7),e.YNc(1,kt,2,1,"ng-container",1),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("nzStringTemplateOutlet",s.nzSuffix)}}let Mt=(()=>{var i;class r{constructor(t){this.locale_id=t,this.displayInt="",this.displayDecimal=""}ngOnChanges(){this.formatNumber()}formatNumber(){const t="number"==typeof this.nzValue?".":(0,h.dv)(this.locale_id,h.wE.Decimal),n=String(this.nzValue),[o,a]=n.split(t);this.displayInt=o,this.displayDecimal=a?`${t}${a}`:""}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(e.soG))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],features:[e.TTD],decls:3,vars:2,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-statistic-content-value-int",4,"ngIf"],["class","ant-statistic-content-value-decimal",4,"ngIf"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(t,n){1&t&&(e.TgZ(0,"span",0),e.YNc(1,vt,1,4,"ng-container",1),e.YNc(2,xt,3,2,"ng-container",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.nzValueTemplate),e.xp6(1),e.Q6J("ngIf",!n.nzValueTemplate))},dependencies:[h.O5,h.tP],encapsulation:2,changeDetection:0}),r})(),bt=(()=>{var i;class r{constructor(t,n){this.cdr=t,this.directionality=n,this.nzValueStyle={},this.dir="ltr",this.destroy$=new z.x}ngOnInit(){this.directionality.change?.pipe((0,f.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(N.Is,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-statistic"]],hostAttrs:[1,"ant-statistic"],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("ant-statistic-rtl","rtl"===n.dir)},inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatistic"],decls:6,vars:6,consts:[[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-content",3,"ngStyle"],["class","ant-statistic-content-prefix",4,"ngIf"],[3,"nzValue","nzValueTemplate"],["class","ant-statistic-content-suffix",4,"ngIf"],[1,"ant-statistic-content-prefix"],[1,"ant-statistic-content-suffix"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Tt,2,1,"ng-container",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,St,2,1,"span",3),e._UZ(4,"nz-statistic-number",4),e.YNc(5,Dt,2,1,"span",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("nzStringTemplateOutlet",n.nzTitle),e.xp6(1),e.Q6J("ngStyle",n.nzValueStyle),e.xp6(1),e.Q6J("ngIf",n.nzPrefix),e.xp6(1),e.Q6J("nzValue",n.nzValue)("nzValueTemplate",n.nzValueTemplate),e.xp6(1),e.Q6J("ngIf",n.nzSuffix))},dependencies:[h.O5,h.PC,O.f,Mt],encapsulation:2,changeDetection:0}),r})(),Et=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.vT,h.ez,_t.ud,O.T,zt]}),r})();d(927),d(6410);d(3019),d(9028),d(2181),d(9087),d(8337),d(2664),d(2096),d(2495);let cn=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.vT,h.ez,D.g,_.Cl]}),r})();var ue=d(2920);function ln(i,r){if(1&i&&e._UZ(0,"nz-option",9),2&i){const s=r.$implicit;e.Q6J("nzValue",s)("nzLabel",s.name)}}function dn(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"nz-form-item")(1,"nz-form-label"),e._uU(2,"Manager"),e.qZA(),e.TgZ(3,"nz-form-control")(4,"nz-select",3),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.selectedManager=n)})("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.onManagerChange(n))}),e.YNc(5,ln,1,2,"nz-option",8),e.qZA()()()}if(2&i){const s=e.oxw();e.xp6(4),e.Q6J("ngModel",s.selectedManager),e.xp6(1),e.Q6J("ngForOf",s.managerList)}}function hn(i,r){if(1&i&&e._UZ(0,"nz-option",9),2&i){const s=r.$implicit;e.Q6J("nzValue",s)("nzLabel",s.name)}}function un(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"nz-form-item")(1,"nz-form-label"),e._uU(2,"Department"),e.qZA(),e.TgZ(3,"nz-form-control")(4,"nz-select",3),e.NdJ("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.selectedDepartment=n)})("ngModelChange",function(n){e.CHM(s);const o=e.oxw();return e.KtG(o.onDepartmentChange(n))}),e.YNc(5,hn,1,2,"nz-option",8),e.qZA()()()}if(2&i){const s=e.oxw();e.xp6(4),e.Q6J("ngModel",s.selectedDepartment),e.xp6(1),e.Q6J("ngForOf",s.departmentList)}}const pe=function(){return{xs:8,sm:16,md:24,lg:32}};function pn(i,r){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"nz-form-item")(3,"nz-form-label"),e._uU(4,"Hierarchy"),e.qZA(),e._UZ(5,"app-hierarchy",10),e.qZA()(),e.TgZ(6,"nz-col",11),e._UZ(7,"nz-statistic",12),e.ALo(8,"currency"),e.qZA()()),2&i){const s=e.oxw();e.Q6J("nzGutter",e.DdM(10,pe)),e.xp6(5),e.Q6J("data",s.hierarchyData),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzValue",e.gM2(8,5,s.totalExpense,"USD","symbol","1.0-0"))("nzTitle","Total Expense")}}let fn=(()=>{var i;class r{constructor(){this.employeeService=(0,e.f3M)(fe.G),this.departmenService=(0,e.f3M)(gt.n),this.managerList=[],this.departmentList=[],this.totalExpense=0}ngOnInit(){this.getEmployeeList(),this.getDepartmentList()}getEmployeeList(){this.employeeService.readDetailed().subscribe(t=>this.managerList=t.filter(n=>"Manager"===n.type))}getDepartmentList(){this.departmenService.readDetailed().subscribe(t=>this.departmentList=t)}onTypeChange(t){this.hierarchyData=null,this.selectedManager=null,this.selectedDepartment=null}onManagerChange(t){this.hierarchyData=this.selectedManager,this.totalExpense=t?this.calculateAllocations(t,"Manager"):0}onDepartmentChange(t){this.hierarchyData=this.selectedDepartment,this.totalExpense=t?this.calculateAllocations(t,"Department"):0}calculateAllocations(t,n,o=[]){o.push(t.id);let a=t.allocation??0;for(const c of t.children||[])a+="Manager"===n?this.calculateAllocations(c,n):o.includes(c.id)?0:this.calculateAllocations(c,n,o);return a}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-expense-calculator"]],standalone:!0,features:[e.jDz],decls:14,vars:7,consts:[["nzTitle","Expense Calculator",3,"nzBordered"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","12","nzXl","8","nzXXl","6"],["nzShowSearch","","nzPlaceHolder","Please select",3,"ngModel","ngModelChange"],["nzLabel","Department","nzValue","Department"],["nzLabel","Manager","nzValue","Manager"],[4,"ngIf"],["nz-row","",3,"nzGutter",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[3,"data"],[3,"nzSpan"],[3,"nzValue","nzTitle"]],template:function(t,n){1&t&&(e.TgZ(0,"nz-card",0)(1,"div",1)(2,"div",2)(3,"nz-form-item")(4,"nz-form-label"),e._uU(5,"Type"),e.qZA(),e.TgZ(6,"nz-form-control")(7,"nz-select",3),e.NdJ("ngModelChange",function(a){return n.type=a})("ngModelChange",function(a){return n.onTypeChange(a)}),e._UZ(8,"nz-option",4)(9,"nz-option",5),e.qZA()()()(),e.TgZ(10,"div",2),e.YNc(11,dn,6,2,"nz-form-item",6),e.YNc(12,un,6,2,"nz-form-item",6),e.qZA()(),e.YNc(13,pn,9,11,"div",7),e.qZA()),2&t&&(e.Q6J("nzBordered",!1),e.xp6(1),e.Q6J("nzGutter",e.DdM(6,pe)),e.xp6(6),e.Q6J("ngModel",n.type),e.xp6(4),e.Q6J("ngIf","Manager"===n.type),e.xp6(1),e.Q6J("ngIf","Department"===n.type),e.xp6(1),e.Q6J("ngIf",n.hierarchyData))},dependencies:[h.ez,h.sg,h.O5,h.H9,M.u5,M.JJ,M.On,ft,L.vh,L.bd,G.sL,Z.LV,Z.Ip,Z.Vq,V.U5,ue.t3,ue.SK,V.Nx,V.iK,V.Fd,Et,bt,cn]}),r})()}}]);